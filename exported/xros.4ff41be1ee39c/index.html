<!DOCTYPE html>
<html>
  <head>
  <title>Hello App</title>
      <style>
          
           html, body {
              height: 100%;
          }       
         
          .hiddenDiv{
              display:none;
          }
          </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
	<meta charset="utf-8">
    <script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="jquery.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">
       
        var  globalFileName;
        var  globalFileContent;
        var  globalURI;
        var  updatesJson = "hello";
        var  currentFile = '';
        var  currentData = '';
        var  appid = 'xros.4ff41be1ee39c';
        var  platformurl = 'http://www.appc.ms/cms/';
        
        
       var cfile = [];
cfile[1] = 'Blog';
	cfile[2] = 'About';
	cfile[3] = 'Consultancy';
	cfile[4] = 'DesignandMarketing';
	cfile[5] = 'Applications';
	cfile[6] = 'CustomerService';
	cfile[7] = 'ContactForm';
	cfile[8] = 'Testimonials';
	cfile[9] = 'AddressonMap';
	cfile[10] = 'Contact';
	cfile[11] = 'Services';
	cfile[12] = 'Home';
	var BlogData = 'http://www.amsquared.co.uk/feed/';
	var AboutData = '<p>  	<u><b>amSquared </b></u> was set up by Austin Meakin and Atif Mizra in 2012 to deliver excellent online products for SMEs with outstanding one-to-one account management customer service. Together, Austin and Atifs 12 years&nbsp;of software industry experience combines a thorough grounding in&nbsp;design with first class technical competence so you can be assured&nbsp;that amSquared products will excel both aesthetically and&nbsp;functionally.</p>  <p>  	<u><b>Austin Meakin</b></u><br />  	Austin is a Graphic Design graduate of&nbsp;Kingston University where he has also recently completed studies for Masters in E-Commerce. Austin joined Skylab Design as a Junior Designer in 2008 before a promotion to Digital Project Managerin 2009. In 2011 Skylab Design reformed as Storm New Media and Austin&nbsp;was appointed Operations Director. Austin is also a qualified youth worker and has delivered a Duke of Edinburgh Award course on web design for Merton Youth Service.<br />  	<br />  	<u><b>Atif Mirza</b></u><br />  	Atif is a Computer Software Engineering graduate from Foundation University, Islamabad in Pakistan and he holds a Masters in E-Commerce from Kingston University. Atif was a Software Engineer for Target Systems in Islamabad for four years before starting his E-Commerce Masters. He subsequently joined Storm New Media as a .Net Developer before co-founding amSquared.<br />  	<br />  	<strong><u>Rory Meakin</u></strong><br />  	<span>Rory is an Economics graduate from Southampton University and a Prince2 Practitioner project manager. He has worked in governance for the NHS and as a Research Associate for the TaxPayers Alliance before joining amSquared.</span>  ';
	var ConsultancyData = '<p>  	<strong>Every</strong> project begins with a consultation, whether by telephone or face-to-face, from a project brief to a detailed business process investigation. Promotional websites usually require a telephone or face-to-face meeting, followed-up by email to agree detailed specifications. However, for larger projects with more complex requirements we advise a face-to-face meeting to ensure clarity on your specifications and deliver a project plan to save you time and money and ensure you get the product your business needs.<br />  	<br />  	<b>SOLUTIONS</b><br />  	<span style=\'color:#006400;\'>- Requirements elicitation reports.<br />  	- Search Engine Optimisation (SEO) reports.<br />  	- Online presence analysis reports.<br />  	- Website proposals with estimates.<br />  	- Application proposals with estimates.</span></p>  ';
	var DesignandMarketingData = '<p>  	Design that works, both functionally and aesthetically, is at the heart of every successful project. Whether your project involves a new website, print and online branding, or an application amSquared has the expertise to deliver. Our team&#39;s combination of strong backgrounds in both graphic design and software engineering means we can produce great-looking, functional products that work for your business.</p>  <p>  	<span style=\'color:#b22222;\'><strong>SOLUTIONS </strong></span></p>  <ul>  	<li>  		Online branding.</li>  	<li>  		Printed branding.</li>  	<li>  		Web design.</li>  	<li>  		User experience.</li>  	<li>  		Newsletters.</li>  	<li>  		Search Engine Optimisation.</li>  </ul>  ';
	var ApplicationsData = '<p>  	Websites and software have now converged and a &#39;simple website&#39; today is very different compared to five years ago. Users expect content to be presented intuitively, bespoke web applications are becoming ever more popular and a Content Management System (CMS) is now standard. At amSquared we offer a variety of products from simple promotional websites right through to bespoke desktop applications.<br />  	We across platforms to develop cross-browser web applications and native applications for mobile and desktop operating systems. <b>WEBSITES</b><br />  	- CMS open source.<br />  	- Promotional websites.<br />  	- Micro &amp; satellite sites.<br />  	- CMS bespoke.<br />  	<br />  	<b>MOBILE APPLICATIONS</b><br />  	<br />  	- Business apps (corporate).<br />  	- Promotional apps (consumer).<br />  	- Native iPhone apps.<br />  	- Native Android apps.<br />  	- HTML5 web apps.<br />  	<br />  	<b>DESKTOP APPLICATIONS</b><br />  	<br />  	- Various bespoke solutions.<br />  	<br />  	<b>BUSINESS AUTOMATION</b><br />  	<br />  	- Various bespoke solutions.</p>  ';
	var CustomerServiceData = '<p>  	We pride ourselves on our outstanding customer service and believe that first class account management is the foundation of all successful projects. We achieve this through personal service and a client-centred approach to project planning right from the start to tailor our services to your specific needs.<br />  	<br />  	The amSquared approach prioritises quality products and long-term relationships over fast sales and one-off transactions.<br />  	<br />  	<b>SOLUTIONS</b><br />  	- Enhanced CMS support.<br />  	- Systems training.<br />  	- Web design and marketing education.<br />  	- Monthly key stats reporting.<br />  	- Continuous life cycle support.</p>  ';
	var ContactFormData = 'ContactForm';
	var TestimonialsData = '<p style=\'margin-bottom: 0cm; \'>  	<b><i>Harry&nbsp;Hodgson </i><font color=\'#000099\'>- Harrys Eggs</font></b></p>  <p style=\'margin-bottom: 0cm; \'>  	&#39;I have worked on a couple of&nbsp;projects with Austin now and I couldn&#39;t regard him any more highly.</p>  <p style=\'margin-bottom: 0cm\'>  	He has designed two websites for me and some packaging. Both websites&nbsp;were visually stunning and I have received many comments on this! The&nbsp;product packaging Austin designed was a start-up project and the high&nbsp;level of design which he incorporated enabled us to get our product&nbsp;into over 100 major high street and department stores which wouldn&#39;t&nbsp;have been possible with out the great packaging. If anyone is&nbsp;considering using Austin&#39;s new business I would say go for it! He&nbsp;is young and forward thinking, he delivers on time and in a very&nbsp;hassle free way! He is great to deal with but more importantly his&nbsp;design is first class!&#39;</p>  <p style=\'margin-bottom: 0cm; \'>  	<b><i>Shazia&nbsp;Khadim </i><font color=\'#000099\'>- Merton Youth Service</font></b></p>  <p style=\'margin-bottom: 0cm\'>  	&#39;I have known Austin in a&nbsp;professional capacity for over 5 years. He has worked on, developed&nbsp;and delivered several projects during this time for Merton Youth&nbsp;Service and our partners. He has worked on generic youth club&nbsp;sessions as well as specific programmes where he has had to work as&nbsp;part of a team to plan, organise, deliver and evaluate activities for&nbsp;young people. He has the ability to easily approach young people and&nbsp;children to initiate conversations and to develop relationships with&nbsp;young people, which gain their trust and confidence.</p>  <p style=\'margin-bottom: 0cm\'>  	I would whole-heartedly recommend&nbsp;Austin as a committed, self-motivated person who always strives to&nbsp;achieve the highest standard of work and would be an asset to any<br />  	team / organisation he joins.&#39;</p>  <p style=\'margin-bottom: 0cm\'>  	<b><i>Thiago Azevedo</i><font color=\'#000099\'> -&nbsp;MGT Power</font></b></p>  <p style=\'margin-bottom: 0cm\'>  	&#39;Thanks for your help with this&nbsp;[website] and the job done, the result is excellent, especially given&nbsp;how little of our time and feedback went into it. We are very happy<br />  	with the result.&#39;</p>  <p style=\'margin-bottom: 0cm\'>  	<b><i>F Warner </i><font color=\'#000099\'>- PDC</font></b></p>  <p style=\'margin-bottom: 0cm\'>  	&#39;We used Austin to visualise some of&nbsp;our ideas, we discussed project ideas and the next day we had print&nbsp;ready vector files. Austin is a pleasure to work with, using his&nbsp;excellent project management skills Austin consistently delivered<br />  	projects on-time and on-budget.&#39;</p>  <p>  	<b><i>James Syme</i><font color=\'#000099\'> - Storm New Media</font></b></p>  <p style=\'margin-bottom: 0cm\'>  	&#39;Austin returned [from University] to&nbsp;work to help keep the company going. The company went though a severe&nbsp;restructuring process involving the two directors forming new&nbsp;company&#39;s and splitting the assets etc which Austin facilitated for<br />  	several months.&#39;</p>  ';
	var AddressonMapData = '-0.302376,51.389396';
	var ContactData = 'Contact Form,page,contactForm|Address on Map,page,addressonMapView';
	var ServicesData = 'Design and Marketing,page,designMarketingView|Consultancy,page,consultancyView|Applications,page,applicationsView|Customer Service,page,customerServiceView';
	var HomeData = 'About,page,aboutView|Testimonials,page,testimonialsView';
	
       cfile[0] = 'lastUpdate';
        var lastUpdateData = '0';
     	
     	function checkUpdates()
        {
            
            $.ajax({
                   url: document.getElementById('globalURIField').value +  '/lastUpdate.txt',
                   type: 'GET',
                   processData: false,
                   dataType: 'text',
                   success: function(data) {
                        updateFromWeb(platformurl + 'appupdate.php?id='+appid + '&lastupdate='+data);
                   },
                   error: function(data,textStauts,errorThrown) {
                        console.log('Error! ' + errorThrown);
                   }
            });

        }
        
        function onDeviceResume()
        {
            checkUpdates();
        }
        
        
        function writeCurrentFile()
        {
            writeFile(currentFile,currentData);
        }
        
        function myLoop () {  
            //  create a loop function
            setTimeout(function () {    //  call a 3s setTimeout when the loop is called
                       currentFile = cfile[i];
                       currentData = eval(cfile[i]+'Data');
                       console.log('File = '+currentData);          //  your code here
                       writeFile(currentFile+'.txt',currentData);
                       i++;                     //  increment the counter
                       if (i < cfile.length) {            //  if the counter < 10, call the loop function
                       myLoop();             //  ..  again which will trigger another 
                       }                        //  ..  setTimeout()
                       }, 10)
        }
        function onDeviceReady() {
            
            document.addEventListener("resume", onDeviceResume, false);
            window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFileSystemSuccess, fail);
            
            $.ajax({
                   url: document.getElementById('globalURIField').value +  '/lastUpdate.txt',
                   type: 'GET',
                   processData: false,
                   dataType: 'text',
                   success: function(data) {
                        if(data > 0){
                            i=0;
                            myLoop();
                            checkUpdates();
                        }
                   
                   },
                   error: function(data,textStauts,errorThrown) {
                        i=0;
                        myLoop();
                   }
                   });
        }
        
        function onFileSystemSuccess(fileSystem) {
            globalURI = fileSystem.root.fullPath;
            document.getElementById('globalURIField').value = globalURI;
        }
        
      
        
        /************************ 
         Writing File
         *************************/
        
        function writeFile(fileName,data)
        {
            setFileName(fileName);
            setFileContent(data);
            loadFileSystemForWriting(fileName);
        }
        
        function loadFileSystemForWriting(fileName) 
        {
            window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFSWrite, fail);
        }
        
        function gotFSWrite(fileSystem,fileName) {
            fileSystem.root.getFile(globalFileName, {create: true,exclusive: false}, gotFileEntryWriter, fail);
        }
                
        
        function gotFileEntryWriter(fileEntry) {
            fileEntry.createWriter(gotFileWriter, fail);
        }
        
        
        function gotFileWriter(writer) {
            
            writer.onwrite = function(evt) {
            };
            writer.write(globalFileContent);
        }
    
        function setFileName(fileName)
        {
            globalFileName = fileName;
        }
        
        function setFileContent(data)
        {
            globalFileContent = data;
        }
        
        
        /************************ 
         End of Writing File
         *************************/
        
        /**********************
         Reading files from Web
         ***********************/
        function getWebFileContent(userurl)
        {
            document.getElementById('indi').className = 'indiOn';
            $.ajax({
                   url: userurl,
                   type: 'GET',
                   processData: false,
                   dataType: 'text',
                   success: function(data) {
                        document.getElementById('indi').className = 'indiOff';
                        updatesJson = data;
                   },
                   error: function(data,textStauts,errorThrown) {
                        console.log('Error! ' + errorThrown);
                   }
                   });
        }
        
        function updateFromWeb(userurl)
        {
            $.ajax({
                   url: userurl,
                   type: 'GET',
                   processData: false,
                   dataType: 'text',
                   success: function(data) {
                        //console.log(data);
                        if(data != 'no')
                        {
                           newData = jQuery.parseJSON(data);
                            //console.log('Items = ' + newData.items.length);
                            for(c = 0;c < newData.items.length;c++)
                            {
                            	if(newData.items[c].title == 'Blog'){
                                    BlogData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + BlogData);
                                    document.getElementById('BlogUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'About'){
                                    AboutData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + AboutData);
                                    document.getElementById('AboutUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Consultancy'){
                                    ConsultancyData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + ConsultancyData);
                                    document.getElementById('ConsultancyUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'DesignandMarketing'){
                                    DesignandMarketingData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + DesignandMarketingData);
                                    document.getElementById('DesignandMarketingUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Applications'){
                                    ApplicationsData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + ApplicationsData);
                                    document.getElementById('ApplicationsUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'CustomerService'){
                                    CustomerServiceData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + CustomerServiceData);
                                    document.getElementById('CustomerServiceUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'ContactForm'){
                                    ContactFormData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + ContactFormData);
                                    document.getElementById('ContactFormUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Testimonials'){
                                    TestimonialsData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + TestimonialsData);
                                    document.getElementById('TestimonialsUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'AddressonMap'){
                                    AddressonMapData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + AddressonMapData);
                                    document.getElementById('AddressonMapUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Contact'){
                                    ContactData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + ContactData);
                                    document.getElementById('ContactUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Services'){
                                    ServicesData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + ServicesData);
                                    document.getElementById('ServicesUpdate').value = 'true';
                                }
                        if(newData.items[c].title == 'Home'){
                                    HomeData = stripslashes(newData.items[c].data);
                                    //console.log("NEW LIST = " + HomeData);
                                    document.getElementById('HomeUpdate').value = 'true';
                                }
                        
                                    if(newData.items[c].title == 'lastUpdate'){
                                        lastUpdateData = stripslashes(newData.items[c].data);
                                    }
                            } 
                
                            i=0;
                            myLoop();
                        }
                        else{
                            console.log('No Update');
                        }
                   },
                   error: function(data,textStauts,errorThrown) {
                        console.log('Error! ' + errorThrown);
                   }
                   });
        }
        
	function onBodyLoad()
	{		
		document.addEventListener("deviceready", onDeviceReady, false);
		
  	}
        
        
        
        function html_entity_decode (string, quote_style) {
            var hash_map = {},
            symbol = '',
            tmp_str = '',
            entity = '';
            tmp_str = string.toString();
            
            if (false === (hash_map = this.get_html_translation_table('HTML_ENTITIES', quote_style))) {
                return false;
            }
            
            // fix &amp; problem
            // http://phpjs.org/functions/get_html_translation_table:416#comment_97660
            delete(hash_map['&']);
            hash_map['&'] = '&amp;';
            
            for (symbol in hash_map) {
                entity = hash_map[symbol];
                tmp_str = tmp_str.split(entity).join(symbol);
            }
            tmp_str = tmp_str.split('&#039;').join("'");
            
            return tmp_str;
        }
        
    
        
        function stripslashes(str) {
            str=str.replace(/\\'/g,'\'');
            str=str.replace(/\\"/g,'"');
                            str=str.replace(/\\0/g,'\0');
                            str=str.replace(/\\\\/g,'\\');
                            return str;
                            }
                            
    </script>
        
    <script id="microloader" type="text/javascript" src="sdk/microloader/development.js"></script>
        
    <script type="text/javascript" src="encoder.js"></script>
        
  </head>
  <body onload="onBodyLoad()">
       <div id="loadingDiv">
          <img src="loading.png" width="100%" height="100%" />
          <div style="position:fixed;top:80%;left:40%;color:#fff;font-size:20px;">
              Loading ...
          </div>
      </div>
      
      <input type="hidden" id="globalURIField" value="1" />
      <input type="hidden" id="BlogUpdate" value="false" />
	<input type="hidden" id="AboutUpdate" value="false" />
	<input type="hidden" id="ConsultancyUpdate" value="false" />
	<input type="hidden" id="DesignandMarketingUpdate" value="false" />
	<input type="hidden" id="ApplicationsUpdate" value="false" />
	<input type="hidden" id="CustomerServiceUpdate" value="false" />
	<input type="hidden" id="ContactFormUpdate" value="false" />
	<input type="hidden" id="TestimonialsUpdate" value="false" />
	<input type="hidden" id="AddressonMapUpdate" value="false" />
	<input type="hidden" id="ContactUpdate" value="false" />
	<input type="hidden" id="ServicesUpdate" value="false" />
	<input type="hidden" id="HomeUpdate" value="false" />
	
  </body>
</html>